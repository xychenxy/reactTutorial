<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

</head>
<body>

    <div id="test1">
        <!--<h1>hello react</h1>-->
    </div>

    <div id="test2"></div>


    <script type="text/javascript" src="../Javascript/react.development.js"></script>
    <script type="text/javascript" src="../Javascript/react-dom.development.js"></script>
    <script type="text/javascript" src="../Javascript/babel.min.js"></script>
    <!--babel 将jsx解析为js-->


    <script type="text/babel">

        // 1。 定义组件
        // 工厂函数组件
        // 2。 渲染组件标签


//        function likeYou() {
//            return
//        }


        class Like extends React.Component{

            constructor(props){
                super(props);
                // 初始化状态
                this.state = {
                    isLike: false
                }

                // 将新增的method的this强制绑定为组件对象

                this.handleClick = this.handleClick.bind(this)


            }

            // this is a new method; 内部的this默认不是组件对象，而是undefined
            // 解决： 让 method 的this 指向对象
            handleClick(){

//                console.log();

                // 计算出 之前的状态 并且取反
                const isLike = !this.state.isLike;

                // 更新状态
                this.setState({isLike})
            }


            // this is override
            render(){
                // 读取状态
                const {isLike} = this.state;
                // onClick 的 c 是大写
                return <h1 onClick={this.handleClick}>{isLike?'你喜欢我':'我喜欢你'}</h1>;

                // 下面这个写法 效率低
                //return <h1 onClick={this.handleClick.bind(this)}>{isLike?'你喜欢我':'我喜欢你'}</h1>;
            }
        }

        ReactDOM.render(<Like/>, document.getElementById("test1"));





    </script>

</body>
</html>